<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <img src="{{ url_for('static', filename='images/paw.png') }}" alt="Paw" class="paw-icon" onerror="this.style.display='none'">
                <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</h1>
            </div>
            <p class="subtitle">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Tesseract ‡∏Å‡∏±‡∏ö EasyOCR</p>
        </header>

        <!-- Upload Section -->
        <section class="upload-card">
            <div class="upload-area" id="uploadBox">
                <img src="{{ url_for('static', filename='images/upload.png') }}" alt="Upload" class="upload-icon" onerror="this.innerHTML='üì∏'">
                <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏â‡∏•‡∏≤‡∏Å‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</h3>
                <p>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö JPG, PNG (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)</p>
                <input type="file" id="fileInput" accept="image/jpeg,image/jpg,image/png" style="display: none;">
                <button class="btn btn-upload" onclick="document.getElementById('fileInput').click()">
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
                </button>
            </div>

            <!-- Preview -->
            <div id="imagePreview" class="preview-section" style="display: none;">
                <img id="previewImg" src="" alt="Preview" class="preview-image">
                <div class="preview-actions">
                    <button class="btn btn-secondary" onclick="document.getElementById('fileInput').click()">
                        ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ
                    </button>
                    <button class="btn btn-process" onclick="processImage()">
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                    </button>
                </div>
            </div>
        </section>

        <!-- Loading -->
        <div id="loading" class="loading-card" style="display: none;">
            <div class="spinner"></div>
            <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>
        </div>

        <!-- Results -->
        <section id="results" class="results-container" style="display: none;">
            <!-- Comparison Cards -->
            <div class="comparison-cards">
                <!-- Tesseract -->
                <div class="result-card tesseract-card">
                    <div class="card-header">
                        <h2>Tesseract OCR</h2>
                        <span class="time-badge" id="tessTime">0.0s</span>
                    </div>
                    <div class="card-content">
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</label>
                            <span id="tessVaccineName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</label>
                            <span id="tessTradeName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
                            <span id="tessRegNo" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>Serial Number</label>
                            <span id="tessSerial" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏¥‡∏ï</label>
                            <span id="tessMfg" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</label>
                            <span id="tessExp" class="value">-</span>
                        </div>
                    </div>
                </div>

                <!-- EasyOCR -->
                <div class="result-card easyocr-card">
                    <div class="card-header">
                        <h2>EasyOCR</h2>
                        <span class="time-badge" id="easyTime">0.0s</span>
                    </div>
                    <div class="card-content">
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</label>
                            <span id="easyVaccineName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</label>
                            <span id="easyTradeName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
                            <span id="easyRegNo" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>Serial Number</label>
                            <span id="easySerial" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏¥‡∏ï</label>
                            <span id="easyMfg" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</label>
                            <span id="easyExp" class="value">-</span>
                        </div>
                    </div>
                </div>
                
                <!-- Merged / Recommended -->
                <div class="result-card merged-card">
                    <div class="card-header">
                        <h2>‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏° (Merged)</h2>
                        <span class="time-badge">Merged</span>
                    </div>
                    <div class="card-content">
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</label>
                            <span id="mergedVaccineName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤</label>
                            <span id="mergedTradeName" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
                            <span id="mergedRegNo" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>Serial Number</label>
                            <span id="mergedSerial" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏•‡∏¥‡∏ï</label>
                            <span id="mergedMfg" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</label>
                            <span id="mergedExp" class="value">-</span>
                        </div>
                        <div class="info-row">
                            <label>‡∏ó‡∏µ‡πà‡∏°‡∏≤ (source)</label>
                            <span id="mergedSources" class="value">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Metrics -->
            <div class="metrics-card">
                <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</h2>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div>
                        <div class="metric-value tesseract-color" id="tessAccuracy">0%</div>
                        <div class="metric-subtitle">Tesseract</div>
                    </div>
                    
                    <div class="metric-box">
                        <div class="metric-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div>
                        <div class="metric-value easyocr-color" id="easyAccuracy">0%</div>
                        <div class="metric-subtitle">EasyOCR</div>
                    </div>
                    
                    <div class="metric-box">
                        <div class="metric-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</div>
                        <div class="metric-value tesseract-color" id="tessSpeed">0.0s</div>
                        <div class="metric-subtitle">Tesseract</div>
                    </div>
                    
                    <div class="metric-box">
                        <div class="metric-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</div>
                        <div class="metric-value easyocr-color" id="easySpeed">0.0s</div>
                        <div class="metric-subtitle">EasyOCR</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-container">
                    <div class="chart-box">
                        <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</h3>
                        <canvas id="accuracyChart"></canvas>
                    </div>
                    
                    <div class="chart-box">
                        <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß</h3>
                        <canvas id="speedChart"></canvas>
                    </div>
                </div>

                <!-- Winner -->
                <div class="winner-box" id="winnerBox">
                    <img src="{{ url_for('static', filename='images/trophy.png') }}" alt="Trophy" class="trophy-icon" onerror="this.innerHTML='üèÜ'">
                    <div class="winner-text">
                        <span class="winner-label">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤:</span>
                        <span class="winner-name" id="winnerName">-</span>
                    </div>
                </div>
            </div>

            <!-- Raw OCR Text -->
            <div class="raw-text-card">
                <h2>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà OCR ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ</h2>
                
                <div class="raw-text-grid">
                    <div class="raw-text-box tesseract-bg">
                        <h3>Tesseract - ‡∏™‡πà‡∏ß‡∏ô‡∏ã‡πâ‡∏≤‡∏¢</h3>
                        <pre id="tessLeftRaw"></pre>
                    </div>
                    
                    <div class="raw-text-box tesseract-bg">
                        <h3>Tesseract - ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏ß‡∏≤</h3>
                        <pre id="tessRightRaw"></pre>
                    </div>
                    
                    <div class="raw-text-box easyocr-bg">
                        <h3>EasyOCR - ‡∏™‡πà‡∏ß‡∏ô‡∏ã‡πâ‡∏≤‡∏¢</h3>
                        <pre id="easyLeftRaw"></pre>
                    </div>
                    
                    <div class="raw-text-box easyocr-bg">
                        <h3>EasyOCR - ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏ß‡∏≤</h3>
                        <pre id="easyRightRaw"></pre>
                    </div>
                </div>
            </div>

            <!-- Image Preview -->
            <div class="preview-card">
                <h2>‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</h2>
                
                <div class="preview-grid">
                    <div class="preview-item">
                        <h3>‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</h3>
                        <img id="originalImage" src="" alt="Original">
                    </div>
                    
                    <div class="preview-item">
                        <h3>‡∏™‡πà‡∏ß‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ (‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß)</h3>
                        <img id="leftPreprocessed" src="" alt="Left">
                    </div>
                    
                    <div class="preview-item">
                        <h3>‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏ß‡∏≤ (‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß)</h3>
                        <img id="rightPreprocessed" src="" alt="Right">
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <img src="{{ url_for('static', filename='images/paw.png') }}" alt="Paw" class="footer-paw" onerror="this.style.display='none'">
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>